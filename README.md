#### 如何区分正向代理和反向代理？

**正向代理**：**代理的是客户端**。它替客户端去访问服务器，服务器不知道真实的客户端是谁。 

**反向代理**：**代理的是服务器**。它替服务器接收客户端的请求，客户端不知道真实提供服务的服务器是谁。

```text
客户端 <--> [正向代理] <------------------> 服务器
      (代理客户端，隐藏客户端)

客户端 <------------------> [反向代理] <--> 服务器
                      (代理服务器，隐藏服务器)
```

___

|      特性      |                           正向代理                           |                           反向代理                           |
| :------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|  **代理对象**  |                          **客户端**                          |                          **服务器**                          |
|    **位置**    |    靠近客户端（通常在客户端网络内，如公司内网、用户本地）    |            靠近服务器端（通常在服务器机房或云上）            |
|  **隐藏对象**  | **隐藏客户端**。服务器只知道代理的`IP`，不知道真实客户端的`IP`。 | **隐藏服务器**。客户端只知道代理的`IP`，不知道背后是哪个真实服务器在处理请求。 |
|   **配置方**   |         **由客户端配置**（如浏览器设置代理服务器）。         |         **由服务器端/运维人员配置**，客户端无感知。          |
|  **典型用途**  | 1. **科学上网**（访问被墙的网站，如Google）。 2. **公司内网访问控制**（所有上网流量经过代理审计）。 3. **缓存加速**（代理缓存常用资源）。 4. **隐藏访问者身份**。 | 1. **负载均衡**（将请求分发到多台后端服务器）。 2. **安全防护**（隐藏服务器真实`IP`，抵御攻击）。 3. **`SSL`终端**（由反向代理进行`HTTPS`加解密，减轻后端服务器压力）。 4. **统一入口**（将多个服务聚合在同一域名和端口下）。 |
| **客户端感知** |          **客户端必须知道代理的存在**，并主动配置。          |       **客户端无感知**，认为反向代理就是真正的服务器。       |
|  **常用软件**  |          `Squid`,` CCProxy`, `Shadowsocks`, `V2Ray`          |           `Nginx`, `Apache HTTP Server`, `HAProxy`           |

> **举例**:
>
> - **正向代理像你的“私人秘书”**：
>   - **你（客户端）** 想找某个公司的老板（服务器）谈事情，但你不方便直接出面。
>   - 你让**秘书（正向代理）** 替你去联系老板。
>   - 老板只知道是“某个秘书”来找他，但不知道秘书背后真正的“你”是谁。
> - **反向代理像公司的“前台”**：
>   - **你（客户端）** 想联系某公司的一个技术专家（服务器）。
>   - 你打电话到公司的**前台（反向代理）**。
>   - 总机根据你的需求，帮你转接到背后真正处理你问题的技术专家（某台服务器）那里。
>   - 你并不知道接电话的专家具体是谁，你只关心问题被解决了。

**关键**

- **为客户端服务，隐藏客户端** -> **正向代理**
- **为服务器服务，隐藏服务器** -> **反向代理**

